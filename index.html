<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebApp 포트폴리오 | 치수쌤</title>
  
  <!-- Tailwind CSS 로드 --><script src="https://cdn.tailwindcss.com"></script>
  
  <!-- 전역 스타일 및 폰트, 애니메이션 --><style>
    /* 폰트 로드 */
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');
    @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap');

    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    }
    .font-dohyeon {
      font-family: 'Do Hyeon', sans-serif;
    }

    /* 스크롤바 부드럽게 */
    html {
      scroll-behavior: smooth;
    }

    /* 커스텀 애니메이션 */
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fade-in {
      animation: fade-in 0.3s ease-out;
    }
    
    @keyframes slide-up {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-up {
      animation: slide-up 0.3s ease-out;
    }
    
    @keyframes pulse-slow-1 {
      0%, 100% { opacity: 0.1; transform: scale(0.8) translateX(-25%) translateY(-25%); }
      50% { opacity: 0.2; transform: scale(1) translateX(-25%) translateY(-25%); }
    }
    .animate-pulse-slow-1 {
      animation: pulse-slow-1 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    
    @keyframes pulse-slow-2 {
      0%, 100% { opacity: 0.1; transform: scale(0.8) translateX(25%) translateY(25%); }
      50% { opacity: 0.2; transform: scale(1) translateX(25%) translateY(25%); }
    }
    .animate-pulse-slow-2 {
      animation: pulse-slow-2 10s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      animation-delay: 2s;
    }
    
    @keyframes pulse-slow-3 {
      0%, 100% { opacity: 0.05; transform: scale(0.8) translateX(-50%) translateY(-50%); }
      50% { opacity: 0.15; transform: scale(1) translateX(-50%) translateY(-50%); }
    }
    .animate-pulse-slow-3 {
      animation: pulse-slow-3 9s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      animation-delay: 1s;
    }
  </style>
</head>
<body class="min-h-screen bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-200">

  <!-- 1. Hero Section --><section class="relative flex flex-col items-center justify-center w-full h-screen text-center text-white bg-gray-900 overflow-hidden">
    <!-- Animated Gradient Spotlights --><div class="absolute top-0 left-0 w-96 h-96 rounded-full animate-pulse-slow-1 -translate-x-1/4 -translate-y-1/4
                bg-[radial-gradient(circle,rgba(244,63,94,0.3)_0%,rgba(244,63,94,0)_70%)]"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 rounded-full animate-pulse-slow-2 translate-x-1/4 translate-y-1/4
                bg-[radial-gradient(circle,rgba(2,132,199,0.3)_0%,rgba(2,132,199,0)_70%)]"></div>
    <div class="absolute top-1/2 left-1/2 w-80 h-80 rounded-full animate-pulse-slow-3 -translate-x-1/2 -translate-y-1/2
                bg-[radial-gradient(circle,rgba(245,158,11,0.2)_0%,rgba(245,158,11,0)_70%)]"></div>

    <div class="z-10 p-4">
      <h1 class="font-dohyeon text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight">
        Education x Musical x Digital
      </h1>
      <p class="mt-6 text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">
        “교육과 뮤지컬, 디지털의 의미 있는 만남을 꿈꾸다.”
      </p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-10">
        <a
          href="https://litt.ly/chichiboo"
          target="_blank"
          rel="noopener noreferrer"
          class="px-6 py-3 font-semibold text-white transition-colors bg-white/10 rounded-full backdrop-blur-sm hover:bg-white/20"
        >
          litt.ly/chichiboo
        </a>
        <a
          href="#collection"
          class="px-6 py-3 font-semibold text-gray-900 transition-colors bg-white rounded-full hover:bg-gray-200"
        >
          WebApps 둘러보기
        </a>
      </div>
    </div>
  </section>

  <main>
    <!-- 2. About Section --><section id="about" class="py-24 bg-white dark:bg-gray-900">
      <div class="container px-4 mx-auto">
        <div class="grid items-center gap-12 lg:grid-cols-3">
          <!-- 프로필 카드 --><div class="flex justify-center lg:col-span-1">
            <div class="w-full max-w-sm p-8 text-center bg-gray-100 dark:bg-gray-800 rounded-2xl shadow-lg">
              <img
                src="https://i.ibb.co/Tx52NF6Q/image.png"
                alt="프로필 이미지"
                class="w-32 h-32 mx-auto rounded-full shadow-md object-cover"
                onerror="this.src='https://placehold.co/150x150/E2E8F0/334155?text=Profile'"
              />
              <h3 class="mt-6 text-2xl font-bold font-dohyeon text-gray-900 dark:text-white">원치수</h3>
              <p class="mt-1 text-indigo-500 dark:text-indigo-400">교육뮤지컬 꿈꾸는 치수쌤</p>
              <p class="mt-4 text-sm text-gray-600 dark:text-gray-400">
                교육과 뮤지컬, 디지털의 의미 있는 만남을 꿈꾸며 고민하고 창작하고 실천합니다.
              </p>
            </div>
          </div>

          <!-- 소개글 --><div class="lg:col-span-2">
            <h2 class="mb-6 text-3xl font-bold text-gray-900 font-dohyeon dark:text-white">About Me</h2>
            <div class="space-y-4 text-gray-700 dark:text-gray-300">
              <p>
                교육뮤지컬을 고민하고, 창작하고, 실천합니다.
                초등학생들과 함께 꿈꾸는 교육뮤지컬 이야기를 기록합니다.
                따뜻한 디지털 활용 교육에도 관심이 많습니다.
              </p>
              <blockquote class="pl-4 italic border-l-4 border-indigo-500">
                “교육과 뮤지컬, 디지털의 의미 있는 만남을 꿈꾸다.”
              </blockquote>
              <div>
                <h4 class="mt-6 mb-2 text-lg font-semibold text-gray-900 dark:text-white">저서</h4>
                <ul class="flex flex-wrap gap-4">
                  <li class="px-4 py-2 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-200 transition-colors hover:bg-gray-200 dark:hover:bg-gray-600">
                    <a href="https://www.yes24.com/product/goods/103633243" target="_blank" rel="noopener noreferrer">
                      『세상에서 가장 쉬운 뮤지컬 수업』
                    </a>
                  </li>
                  <li class="px-4 py-2 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-200 transition-colors hover:bg-gray-200 dark:hover:bg-gray-600">
                    <a href="https://q-shop.kr/shop_view/?idx=180" target="_blank" rel="noopener noreferrer">
                      『뮤지컬 창작노트』
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. WebApp Collection --><section id="collection" class="py-24 bg-gray-50 dark:bg-gray-950">
      <div class="container px-4 mx-auto">
        <h2 class="mb-4 text-3xl font-bold text-center text-gray-900 font-dohyeon dark:text-white">
          WebApp Collection
        </h2>
        <p id="app-count" class="mb-12 text-center text-gray-600 dark:text-gray-400">
          <!-- JS로 카운트 삽입 --></p>

        <!-- 필터 및 검색 바 --><div class="sticky top-0 z-20 py-6 mb-8 bg-gray-50/80 dark:bg-gray-950/80 backdrop-blur-md">
          <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
            <!-- 검색창 --><div class="relative w-full md:max-w-xs">
              <input
                type="text"
                id="search-input"
                placeholder="앱 이름, 태그, 기능 검색..."
                class="w-full py-2 pl-10 pr-4 text-gray-900 bg-white border border-gray-300 rounded-full dark:bg-gray-800 dark:text-white dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              />
              <div class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
              </div>
            </div>
            
            <!-- 카테고리 필터 --><div id="filter-buttons-container" class="flex flex-wrap justify-center gap-2">
              <!-- JS로 버튼 삽입 --></div>
          </div>
        </div>

        <!-- 앱 카드 그리드 --><div id="app-grid" class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
          <!-- JS로 카드 삽입 --></div>
      </div>
    </section>

    <!-- 4. Philosophy Section --><section id="concept" class="py-24 bg-white dark:bg-gray-900">
      <div class="container px-4 mx-auto">
        <h2 class="mb-12 text-3xl font-bold text-center text-gray-900 font-dohyeon dark:text-white">
          Concept
        </h2>
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-5">
          <!-- Philosophy 1 --><div class="p-8 text-white rounded-2xl shadow-lg bg-gradient-to-br from-rose-400 to-pink-500 flex flex-col">
            <h3 class="mb-2 text-xl font-bold font-dohyeon min-h-[3.5rem] flex items-center">뮤지컬</h3>
            <p class="text-lg font-light">이야기와 예술 친구의 만남</p>
          </div>
          <!-- Philosophy 2 --><div class="p-8 text-white rounded-2xl shadow-lg bg-gradient-to-br from-amber-400 to-yellow-500 flex flex-col">
            <h3 class="mb-2 text-xl font-bold font-dohyeon min-h-[3.5rem] flex items-center">인문·창작</h3>
            <p class="text-lg font-light">질문과 상상의 시작</p>
          </div>
          <!-- Philosophy 3 --><div class="p-8 text-white rounded-2xl shadow-lg bg-gradient-to-br from-sky-400 to-cyan-500 flex flex-col">
            <h3 class="mb-2 text-xl font-bold font-dohyeon min-h-[3.5rem] flex items-center">인터랙티브<br>시각디자인</h3>
            <p class="text-lg font-light">예술과 기술의 상호작용</p>
          </div>
          <!-- Philosophy 4 --><div class="p-8 text-white rounded-2xl shadow-lg bg-gradient-to-br from-emerald-400 to-teal-500 flex flex-col">
            <h3 class="mb-2 text-xl font-bold font-dohyeon min-h-[3.5rem] flex items-center">디지털시민교육<br>세계시민교육</h3>
            <p class="text-lg font-light">현 시대의 시민교육</p>
          </div>
          <!-- Philosophy 5 --><div class="p-8 text-white rounded-2xl shadow-lg bg-gradient-to-br from-indigo-400 to-violet-500 flex flex-col">
            <h3 class="mb-2 text-xl font-bold font-dohyeon min-h-[3.5rem] flex items-center">수업디자인</h3>
            <p class="text-lg font-light">교사의 전문성</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 5. Footer --><footer class="py-12 text-center text-gray-400 bg-gray-800 dark:bg-black">
    <div class="container px-4 mx-auto">
      <p class="text-sm">
        © 2025 원치수 · 교육뮤지컬 꿈꾸는 치수쌤. All rights reserved.
      </p>
      <div class="flex justify-center gap-6 mt-4">
        <a
          href="https://litt.ly/chichiboo"
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm hover:text-white"
        >
          Portfolio
        </a>
        <a
          href="https://litt.ly/stage"
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center text-sm hover:text-white"
        >
          STAGE 
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 ml-1">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
          </svg>
        </a>
      </div>
    </div>
  </footer>

  <!-- 6. App Modal --><div 
    id="app-modal"
    class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in hidden"
  >
    <div
      id="modal-content-wrapper"
      class="relative w-full max-w-2xl max-h-[90vh] bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col animate-slide-up"
    >
      <!-- 모달 헤더 --><div id="modal-header-bg" class="p-6 text-white"> <h2 id="modal-title" class="text-3xl font-bold font-dohyeon"></h2>
        <p id="modal-eng-title" class="mt-1 text-lg opacity-90"></p>
      </div>

      <!-- 닫기 버튼 --><button
        id="modal-close-btn"
        class="absolute top-4 right-4 p-2 text-white/70 rounded-full hover:bg-white/20 hover:text-white transition-colors"
        aria-label="닫기"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
        </svg>
      </button>

      <!-- 모달 컨텐츠 --><div class="flex-grow p-8 overflow-y-auto">
        
        <!-- 유튜브 영상 (JS로 제어) --><div id="modal-video-container" class="mb-6 overflow-hidden rounded-lg shadow-md aspect-video hidden">
          <iframe
            id="modal-video-iframe"
            class="w-full h-full"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>

        <!-- 스크린샷 이미지 (JS로 제어) --><div id="modal-image-container" class="mb-6 hidden">
          <img
            id="modal-image"
            alt="스크린샷"
            class="w-full h-auto rounded-lg shadow-md object-cover"
            onerror="this.parentElement.style.display='none'"
          />
        </div>

        <div class="space-y-6">
          <div>
            <h4 id="modal-category" class="text-sm font-bold tracking-wider uppercase"></h4> <p id="modal-description" class="mt-2 text-gray-700 dark:text-gray-300"></p>
          </div>
          
          <div>
            <h4 class="text-lg font-semibold text-gray-900 dark:text-white">관련 태그</h4>
            <div id="modal-tags-container" class="flex flex-wrap gap-2 mt-2">
              <!-- JS로 태그 삽입 --></div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- 7. JavaScript 로직 --><script>
    // --- 데이터 ---
    const appData = [
      {
        id: 1,
        category: '뮤지컬',
        title: '홍.당.뮤',
        engTitle: 'HongDangMu',
        description: '뮤지컬 감상 기반 디자인씽킹 학습 플랫폼',
        tags: '#뮤지컬 #SEL #디자인씽킹',
        imageUrl: 'https://i.ibb.co/d0cSc2Dq/2025-10-28-08-44-00.png',
      },
      {
        id: 2,
        category: '뮤지컬',
        title: '뮤지컬 대본노트',
        engTitle: 'Musical Script Note',
        description: '뮤지컬 최적화 대본 작성·관리 도구',
        tags: '#대본 #가사 #시나리오',
      },
      {
        id: 3,
        category: '뮤지컬',
        title: '뮤지컬 동선노트',
        engTitle: 'Musical Blocking Note',
        description: '뮤지컬 안무 및 무대 동선 시각화',
        tags: '#안무 #무대 #시각화',
      },
      {
        id: 4,
        category: '뮤지컬',
        title: '뮤지컬 포스터 스튜디오',
        engTitle: 'Musical Poster Lab',
        description: '공연 포스터 디자인',
        tags: '#포스터 #시각디자인 #홍보',
      },
      {
        id: 5,
        category: '뮤지컬',
        title: '여기 있어 효과음',
        engTitle: 'Sound Box',
        description: '공연을 위한 효과음 재생기',
        tags: '#효과음 #사운드 #무대',
      },
      {
        id: 6,
        category: '뮤지컬',
        title: '흑백 노래가사 바꾸기 마법사',
        engTitle: 'Easy Lyrics',
        description: '가사 구조를 시각화하여 창작 활동 지원',
        tags: '#가사 #창작 #시각화',
      },
      {
        id: 7,
        category: '뮤지컬',
        title: '인물도감',
        engTitle: 'Character Matrix',
        description: '인물 분석 및 창조 활동 지원 도구',
        tags: '#캐릭터 #드로잉 #서사 #인물프로필',
      },
      {
        id: 8,
        category: '인터랙티브 시각디자인',
        title: '한글춤',
        engTitle: 'Han Dance',
        description: '한글 자모와 움직임을 결합한 디지털 타이포그래피',
        tags: '#한글 #움직임 #디지털아트',
      },
      {
        id: 9,
        category: '인터랙티브 시각디자인',
        title: '모두를 위한 그래피티',
        engTitle: 'Graffiti for All',
        description: '손 제스처 인식 기반 드로잉 도구',
        tags: '#드로잉 #제스처 #창작',
      },
      {
        id: 10,
        category: '인터랙티브 시각디자인',
        title: '포토퍼스',
        engTitle: 'Photopus',
        description: '얼굴 인식 기반 AR 포토부스',
        tags: '#AR #포토 #시각체험',
      },
      {
        id: 11,
        category: '인터랙티브 시각디자인',
        title: '우리네컷',
        engTitle: 'Our4to',
        description: '네컷 사진 촬영 및 디자인 도구',
        tags: '#사진 #기록 #포토부스',
      },
      {
        id: 12,
        category: '인터랙티브 시각디자인',
        title: '코딩캔버스',
        engTitle: 'Coding Canvas',
        description: '손쉬운 코딩 테스트 도구',
        tags: '#코딩 #아이디어보드 #시각표현',
      },
      {
        id: 13,
        category: '인터랙티브 시각디자인',
        title: '어디서나 야구장',
        engTitle: 'Playball Now',
        description: '데이터 기반 게임형 인터랙티브 스코어보드',
        tags: '#야구 #게임형수업 #데이터',
      },
      {
        id: 14,
        category: '인문·창작',
        title: '상상을 도와주는 카드',
        engTitle: 'Cards for Imagination',
        description: '랜덤 이미지로 상상력 자극하기',
        tags: '#영감 #상상력 #이미지',
      },
      {
        id: 15,
        category: '인문·창작',
        title: '시장',
        engTitle: 'Poem Market',
        description: '시쓰기 소재·질문 랜덤 추천기',
        tags: '#시쓰기 #창작 #질문',
      },
      {
        id: 16,
        category: '인문·창작',
        title: '스토리텔링 카드',
        engTitle: 'Storytelling Cards',
        description: '이미지 기반 이야기 창작 앱',
        tags: '#스토리텔링 #이미지 #창작',
      },
      {
        id: 17,
        category: '인문·창작',
        title: '생각의 숲',
        engTitle: 'Forest of Thoughts',
        description: '독서 토론 및 논술 지원 도구',
        tags: '#독서 #논술 #사유',
        imageUrl: 'https://i.ibb.co/hxJCGtt3/Screenshot-20251028-113526-Chrome.jpg',
      },
      {
        id: 18,
        category: '디지털·세계시민교육',
        title: 'SDGs 마켓',
        engTitle: 'SDGs Market',
        description: '지속가능발전목표(SDGs) 학습 및 실천 프로젝트 도구',
        tags: '#SDGs #지속가능발전 #세계시민교육',
      },
      {
        id: 19,
        category: '디지털·세계시민교육',
        title: '출처표기 걱정마',
        engTitle: 'Citation Helper',
        description: '학생용 디지털 리터러시 - 간편 출처 표기 생성기',
        tags: '#저작권 #출처 #디지털윤리',
      },
      {
        id: 20,
        category: '수업디자인',
        title: '성수동(성취기준, 수업을 함께 디자인하는 동료)',
        engTitle: 'SSD Guide',
        description: '성취기준·수업 설계·교육과정 연계 지원 플랫폼',
        tags: '#2022개정교육과정 #성취기준 #수업디자인',
      },
      {
        id: 21,
        category: '수업디자인',
        title: '뮤지컬 수업 스튜디오',
        engTitle: 'Musical Class Studio',
        description: '뮤지컬 수업 기획 지원 도구',
        tags: '#교육뮤지컬 #수업디자인 #교육과정',
      },
    ];

    const categories = [
      '뮤지컬',
      '인문·창작',
      '인터랙티브 시각디자인',
      '디지털·세계시민교육',
      '수업디자인',
    ];
    const allCategories = '전체';

    const categoryStyles = {
      '뮤지컬': {
        gradient: 'from-rose-400 to-pink-500',
        text: 'text-pink-500',
        border: 'border-pink-500',
        bg: 'bg-pink-500',
      },
      '인문·창작': {
        gradient: 'from-amber-400 to-yellow-500',
        text: 'text-yellow-500',
        border: 'border-yellow-500',
        bg: 'bg-yellow-500',
      },
      '인터랙티브 시각디자인': {
        gradient: 'from-sky-400 to-cyan-500',
        text: 'text-cyan-500',
        border: 'border-cyan-500',
        bg: 'bg-cyan-500',
      },
      '디지털·세계시민교육': {
        gradient: 'from-emerald-400 to-teal-500',
        text: 'text-teal-500',
        border: 'border-teal-500',
        bg: 'bg-teal-500',
      },
      '수업디자인': {
        gradient: 'from-indigo-400 to-violet-500',
        text: 'text-violet-500',
        border: 'border-violet-500',
        bg: 'bg-violet-500',
      },
    };

    // --- 상태 변수 ---
    let currentFilter = allCategories;
    let currentSearchTerm = '';

    // --- DOM 요소 참조 ---
    const appGrid = document.getElementById('app-grid');
    const searchInput = document.getElementById('search-input');
    const filterButtonsContainer = document.getElementById('filter-buttons-container');
    const appCount = document.getElementById('app-count');
    
    const modal = document.getElementById('app-modal');
    const modalContentWrapper = document.getElementById('modal-content-wrapper');
    const modalCloseBtn = document.getElementById('modal-close-btn');
    const modalHeaderBg = document.getElementById('modal-header-bg');
    const modalTitle = document.getElementById('modal-title');
    const modalEngTitle = document.getElementById('modal-eng-title');
    const modalVideoContainer = document.getElementById('modal-video-container');
    const modalVideoIframe = document.getElementById('modal-video-iframe');
    const modalImageContainer = document.getElementById('modal-image-container');
    const modalImage = document.getElementById('modal-image');
    const modalCategory = document.getElementById('modal-category');
    const modalDescription = document.getElementById('modal-description');
    const modalTagsContainer = document.getElementById('modal-tags-container');

    // --- 핵심 함수 ---

    /** 앱 카드를 생성하고 그리드에 렌더링합니다. */
    function renderAppGrid() {
      // 1. 데이터 필터링
      const filteredApps = appData.filter((app) => {
        if (currentFilter !== allCategories && app.category !== currentFilter) {
          return false;
        }
        if (currentSearchTerm) {
          const lowerSearch = currentSearchTerm.toLowerCase();
          return (
            app.title.toLowerCase().includes(lowerSearch) ||
            app.engTitle.toLowerCase().includes(lowerSearch) ||
            app.tags.toLowerCase().includes(lowerSearch) ||
            app.description.toLowerCase().includes(lowerSearch)
          );
        }
        return true;
      });

      // 2. 그리드 초기화
      appGrid.innerHTML = '';

      // 3. 필터링 결과에 따라 렌더링
      if (filteredApps.length > 0) {
        filteredApps.forEach(app => {
          const style = categoryStyles[app.category];
          const tagsHTML = app.tags.split(' ').map(tag => 
            `<span class="inline-block px-2 py-1 mb-1 mr-1 text-xs text-gray-700 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-300">${tag}</span>`
          ).join('');

          const cardHTML = `
            <div
              class="flex flex-col h-full overflow-hidden transition-all duration-300 bg-white shadow-lg cursor-pointer dark:bg-gray-800 rounded-xl hover:shadow-2xl hover:-translate-y-1"
              onclick="openModal(${app.id})"
            >
              <div class="h-2 w-full bg-gradient-to-r ${style.gradient}"></div>
              <div class="flex flex-col flex-grow p-6">
                <span class="text-sm font-bold ${style.text}">${app.category}</span>
                <h3 class="mt-2 mb-1 text-xl font-bold text-gray-900 font-dohyeon dark:text-white">
                  ${app.title}
                </h3>
                <p class="mb-4 text-xs text-gray-500 dark:text-gray-400">${app.engTitle}</p>
                <p class="flex-grow text-sm text-gray-600 dark:text-gray-400">
                  ${app.description}
                </p>
                <div class="mt-4">
                  ${tagsHTML}
                </div>
              </div>
            </div>
          `;
          appGrid.innerHTML += cardHTML;
        });
      } else {
        appGrid.innerHTML = `
          <p class="text-center text-gray-500 md:col-span-2 lg:col-span-3">
            "${currentSearchTerm}"에 대한 검색 결과가 없습니다.
          </p>
        `;
      }
    }

    /** 필터 버튼을 렌더링합니다. */
    function renderFilterButtons() {
      filterButtonsContainer.innerHTML = ''; // 초기화

      // '전체' 버튼
      const allBtnClass = currentFilter === allCategories
        ? 'bg-indigo-600 text-white'
        : 'bg-white text-gray-700 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600';
      filterButtonsContainer.innerHTML += `
        <button
          onclick="setFilter('${allCategories}')"
          class="px-4 py-1.5 text-sm font-medium rounded-full transition-colors ${allBtnClass}"
        >
          ${allCategories}
        </button>
      `;

      // 나머지 카테고리 버튼
      categories.forEach(category => {
        const style = categoryStyles[category];
        const btnClass = currentFilter === category
          ? `${style.bg} text-white`
          : 'bg-white text-gray-700 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600';
        
        filterButtonsContainer.innerHTML += `
          <button
            onclick="setFilter('${category}')"
            class="px-4 py-1.5 text-sm font-medium rounded-full transition-colors ${btnClass}"
          >
            ${category}
          </button>
        `;
      });
    }

    /** 필터 상태를 변경하고 다시 렌더링합니다. */
    window.setFilter = (newFilter) => {
      currentFilter = newFilter;
      renderFilterButtons(); // 버튼 활성 상태 업데이트
      renderAppGrid(); // 그리드 다시 렌더링
    }

    /** 모달을 엽니다. */
    window.openModal = (appId) => {
      const app = appData.find(a => a.id === appId);
      if (!app) return;

      const style = categoryStyles[app.category];

      // 1. 모달 내용 채우기
      modalTitle.textContent = app.title;
      modalEngTitle.textContent = app.engTitle;
      modalDescription.textContent = app.description;
      modalCategory.textContent = app.category;
      
      // 헤더 및 카테고리 스타일
      modalHeaderBg.className = `p-6 bg-gradient-to-r ${style.gradient} text-white`;
      modalCategory.className = `text-sm font-bold tracking-wider uppercase ${style.text}`;

      // 태그
      modalTagsContainer.innerHTML = app.tags.split(' ').map(tag => 
        `<span class="px-3 py-1 text-sm text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-200">${tag}</span>`
      ).join('');

      // 비디오
      if (app.youtubeVideoId) {
        modalVideoIframe.src = `https://www.youtube.com/embed/${app.youtubeVideoId}`;
        modalVideoContainer.classList.remove('hidden');
      } else {
        modalVideoContainer.classList.add('hidden');
        modalVideoIframe.src = ''; // 비디오 중지
      }

      // 이미지
      if (app.imageUrl) {
        modalImage.src = app.imageUrl;
        modalImage.alt = `${app.title} 스크린샷`;
        modalImageContainer.classList.remove('hidden');
        modalImage.parentElement.style.display = 'block'; // onerror로 숨겨졌을 경우 대비
      } else {
        modalImageContainer.classList.add('hidden');
        modalImage.src = '';
      }

      // 2. 모달 보이기
      modal.classList.remove('hidden');
    }

    /** 모달을 닫습니다. */
    function closeModal() {
      modal.classList.add('hidden');
      // 비디오 재생 중지 (중요)
      modalVideoIframe.src = '';
    }

    // --- 초기화 및 이벤트 리스너 ---
    document.addEventListener('DOMContentLoaded', () => {
      // 총 앱 개수 표시
      appCount.textContent = `총 ${appData.length}개의 디지털 교육 도구를 만나보세요.`;

      // 초기 렌더링
      renderFilterButtons();
      renderAppGrid();

      // 검색창 이벤트
      searchInput.addEventListener('input', (e) => {
        currentSearchTerm = e.target.value;
        renderAppGrid();
      });

      // 모달 닫기 이벤트
      modalCloseBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', closeModal); // 배경 클릭 시
      modalContentWrapper.addEventListener('click', (e) => {
        e.stopPropagation(); // 모달 내부 클릭 시 닫히지 않게
      });
    });

  </script>
</body>
</html>